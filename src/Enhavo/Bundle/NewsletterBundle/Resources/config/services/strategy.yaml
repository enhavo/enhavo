services:
    Enhavo\Bundle\NewsletterBundle\Strategy\Type\StrategyType:
        public: true
        arguments:
            - '@translator'
        tags:
            - { name: enhavo_newsletter.strategy }

    Enhavo\Bundle\NewsletterBundle\Strategy\AbstractStrategyType:
        abstract: true
        calls:
            - [setEventDispatcher, ['@event_dispatcher']]

    Enhavo\Bundle\NewsletterBundle\Strategy\Type\NotifyStrategyType:
        parent: Enhavo\Bundle\NewsletterBundle\Strategy\AbstractStrategyType
        public: true
        arguments:
            - '@Enhavo\Bundle\NewsletterBundle\Newsletter\NewsletterManager'
        tags:
            - { name: enhavo_newsletter.strategy }

    Enhavo\Bundle\NewsletterBundle\Strategy\Type\DoubleOptInStrategyType:
        parent: Enhavo\Bundle\NewsletterBundle\Strategy\AbstractStrategyType
        public: true
        arguments:
            - '@Enhavo\Bundle\NewsletterBundle\Newsletter\NewsletterManager'
            - '@Enhavo\Bundle\NewsletterBundle\Pending\PendingSubscriberManager'
            - '@router'
        tags:
            - { name: enhavo_newsletter.strategy }

    Enhavo\Bundle\NewsletterBundle\Strategy\Type\AcceptStrategyType:
        parent: Enhavo\Bundle\NewsletterBundle\Strategy\AbstractStrategyType
        public: true
        arguments:
            - '@Enhavo\Bundle\NewsletterBundle\Newsletter\NewsletterManager'
            - '@Enhavo\Bundle\NewsletterBundle\Pending\PendingSubscriberManager'
            - '@router'
        tags:
            - { name: enhavo_newsletter.strategy }
