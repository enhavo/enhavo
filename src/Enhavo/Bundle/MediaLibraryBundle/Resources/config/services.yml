services:
    enhavo_media_library.controller.media_library:
        class: Enhavo\Bundle\MediaLibraryBundle\Controller\MediaLibraryController
        public: true
        arguments:
            - '@view.factory'
            - '@fos_rest.view_handler'
            - '@Enhavo\Bundle\MediaLibraryBundle\Media\MediaLibraryManager'
            - '@enhavo_media.repository.file'
        calls:
            - [setContainer, ['@service_container']]

    Enhavo\Bundle\MediaLibraryBundle\Media\MediaLibraryManager:
        arguments:
            - '@enhavo_media.repository.file'
            - '@enhavo_taxonomy.repository.term'

    Enhavo\Bundle\MediaLibraryBundle\Form\Extension\MediaExtension:
        tags:
            - { name: form.type_extension, extended_type: Enhavo\Bundle\MediaBundle\Form\Type\MediaType }

    Enhavo\Bundle\MediaLibraryBundle\Media\MediaLibraryExtension:
        public: true
        calls:
            - [ setContainer, ['@service_container']]
        tags:
            - { name: enhavo.media_extension , alias: media_library }

    Enhavo\Bundle\MediaLibraryBundle\Viewer\MediaLibraryViewer:
        public: true
        arguments:
            - '@enhavo_app.action_manager'
        calls:
            - ['setContainer', ['@service_container']]
        tags:
            - { name: enhavo.viewer, alias: media_library }

    Enhavo\Bundle\MediaLibraryBundle\Menu\MediaLibraryRootMenuType:
        parent: Enhavo\Bundle\AppBundle\Menu\Menu\ListMenu
        tags:
            - { name: enhavo.menu, alias: media_library }

    Enhavo\Bundle\MediaLibraryBundle\Menu\MediaLibraryMenu:
        parent: Enhavo\Bundle\AppBundle\Menu\Menu\BaseMenu
        tags:
            - { name: enhavo.menu, alias: media_library_library }

    Enhavo\Bundle\MediaLibraryBundle\Menu\TagMenuType:
        parent: Enhavo\Bundle\AppBundle\Menu\Menu\BaseMenu
        tags:
            - { name: enhavo.menu, alias: media_library_tag }
