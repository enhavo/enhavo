services:
    Enhavo\Bundle\AppBundle\Endpoint\Type\ViewEndpointType:
        arguments:
            - '@twig'
            - '@Enhavo\Bundle\AppBundle\Template\TemplateResolverInterface'
        tags:
            - { name: enhavo_api.endpoint }

    Enhavo\Bundle\AppBundle\Endpoint\Type\TemplateEndpointType:
        arguments:
            - '@Enhavo\Bundle\AppBundle\Endpoint\Loader'
        tags:
            - { name: enhavo_api.endpoint }

    Enhavo\Bundle\AppBundle\Endpoint\Extension\RouterEndpointExtensionType:
        arguments:
            - '@Enhavo\Bundle\AppBundle\Twig\TwigRouter'
        calls:
            - [ setContainer, [ '@Psr\Container\ContainerInterface' ] ]
        tags:
            - { name: enhavo_api.endpoint_extension }
            - { name: container.service_subscriber }

    Enhavo\Bundle\AppBundle\Endpoint\Type\AreaEndpointType:
        arguments:
            - '@twig'
            - '@Enhavo\Bundle\AppBundle\Routing\RouteCollectorInterface'
        calls:
            - [ setContainer, [ '@Psr\Container\ContainerInterface' ] ]
        tags:
            - { name: enhavo_api.endpoint }
            - { name: container.service_subscriber }

    Enhavo\Bundle\AppBundle\Endpoint\Loader:
        arguments:
            - '%kernel.project_dir%/data'

    Enhavo\Bundle\AppBundle\Endpoint\TemplateEndpointCollector:
        arguments:
            - '@router'
