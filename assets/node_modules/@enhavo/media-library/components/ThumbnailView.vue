<template>
    <div class="media-library-columns">
        <div class="media-library-sort">
            <i class="icon icon-sort"></i>
            <i class="icon sortable"
               aria-hidden="true"
               :class="mediaLibrary.getSortDirection()==='asc'?'icon-arrow_upward':'icon-arrow_downward'"
               @click="onSort(mediaLibrary.data.sortColumn)"
            >
            </i>
        </div>
        <ul style="display: inline-block">
            <li v-for="column in mediaLibrary.data.columns">
                <div class="formwidget-container" data-formwidget-container="">
                    <div class="choice-input-container" id="article_public">
                        <span class="choice-input-with-label">
                            <div class="icheckbox">
                                <input type="radio"
                                       name="sort"
                                       :id="column.property"
                                       :value="column.property"
                                       :checked="mediaLibrary.data.sortColumn === column"
                                       @change="onSort(column)"
                                       style="position: absolute; visibility: hidden;">
                            </div>
                            <label :for="column.property" class="required">{{ column.label }}</label>
                        </span>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <ul ref="itemList" class="images">
        <file-thumbnail
            v-for="file of mediaLibrary.data.files"
            :file="file"
        ></file-thumbnail>
    </ul>
</template>

<script lang="ts">
import {Inject, Options, Vue, Watch} from "vue-property-decorator";
import '@enhavo/app/assets/styles/view.scss';
import MediaLibrary from "@enhavo/media-library/MediaLibrary";
import {Column} from "@enhavo/media-library/Data";

@Options({})
export default class extends Vue {

    @Inject()
    mediaLibrary: MediaLibrary;

    public onSort(column: Column) {
        this.mediaLibrary.setSortColumn(column);
    }

}
</script>
