import {ref, reactive, onMounted, onUpdated} from 'vue'
import {Form} from "../model/Form";
import {FormUtil} from "@enhavo/vue-form/form/FormUtil";

const elements = reactive({
    element: ref(),
});

export function useUpdateElement(form: Form)
{
    onUpdated(() => {
        form.element = elements.element;
        FormUtil.updateAttributes(elements.element, form.attr);
    });

    onMounted(() => {
        form.element = elements.element;
        FormUtil.updateAttributes(elements.element, form.attr);
    });
}
