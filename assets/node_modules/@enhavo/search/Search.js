function Search()
{
  var self = this;

  this.init = function () {
    self.initSearchForm();
  };

  this.initSearchForm = function() {
    jQuery('[enhavo_search_submit]').on('submit', function (event) {
      event.preventDefault();
      var form = jQuery(this);
      var url = jQuery(this).attr('action');
      var data = jQuery(this).serialize();

      return false;
    });

    jQuery("[data-show-search-options]").on("click", function(event) {
      event.preventDefault();
      jQuery("[data-search-options]").fadeToggle(300);
    })
  };

  this.initResults = function() {
    jQuery('#search-results').on('click', '[data-id]', function() {
      var id = jQuery(this).data('id');
      var route = jQuery(this).data('update-route');
      var url = router.generate(route, {id: id});
      admin.ajaxOverlay(url);
    });
  };

  this.init();
}

new Search();